{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/jatinderkaur/Downloads/React/react-NextJs/pages/index.js\";\n// our-domain.com/\nimport { MongoClient } from \"mongodb\";\nimport MeetupList from \"../components/meetups/MeetupList\"; // import Layout from \"../components/layout/Layout\";\n\nfunction HomePage(props) {\n  return (\n    /*#__PURE__*/\n    // <Layout>\n    _jsxDEV(MeetupList, {\n      meetups: props.meetups\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 9\n    }, this) // </Layout>\n\n  );\n}\n/*\n// ----- server side rendering(SSR) ---\nexport async function getServerSideProps(context){\n    const req = context.req;\n    const res = context.res;\n\n    // fetch data from an API\n\n    // then returns an object\n    return {\n        props: {\n            meetups: DUMMY_MEETUPS\n        }\n    };\n} */\n// ----- static generation ----\n// we can use this function only in the components of 'pages' folder. If nextJs finds this function then it will first of all always call this function before it calls the component function.\n\n\nexport async function getStaticProps() {\n  // fetch data(meetups) from an API.\n  const client = await MongoClient.connect('mongodb+srv://jatinder:jatinder123@cluster0.dnaxppe.mongodb.net/meetups?retryWrites=true&w=majority');\n  const db = client.db();\n  const meetupsCollection = db.collection('meetups');\n  const meetups = await meetupsCollection.find().toArray();\n  client.close(); // once we are done with the data we need, we need to return an object always.\n\n  return {\n    // set props property here. props holds the other object which will be the props object that we receive in our component function i.e 'HomePage'.\n    props: {\n      meetups: meetups.map(meetup => ({\n        title: meetup.title,\n        address: meetup.address,\n        image: meetup.image,\n        id: meetup._id\n      }))\n    },\n    // this property is used when we want to re-generate pre-rendered page every 10 seconds in order to get updated if there are data changes.\n    revalidate: 10\n  };\n}\nexport default HomePage;","map":{"version":3,"sources":["/Users/jatinderkaur/Downloads/React/react-NextJs/pages/index.js"],"names":["MongoClient","MeetupList","HomePage","props","meetups","getStaticProps","client","connect","db","meetupsCollection","collection","find","toArray","close","map","meetup","title","address","image","id","_id","revalidate"],"mappings":";;AAAA;AACA,SAASA,WAAT,QAA4B,SAA5B;AACA,OAAOC,UAAP,MAAuB,kCAAvB,C,CACA;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACrB;AAAA;AACI;AACA,YAAC,UAAD;AAAY,MAAA,OAAO,EAAEA,KAAK,CAACC;AAA3B;AAAA;AAAA;AAAA;AAAA,YAFJ,CAGI;;AAHJ;AAKH;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAEA,OAAO,eAAeC,cAAf,GAAgC;AACnC;AACA,QAAMC,MAAM,GAAG,MAAMN,WAAW,CAACO,OAAZ,CAAoB,qGAApB,CAArB;AAEA,QAAMC,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX;AACA,QAAMC,iBAAiB,GAAGD,EAAE,CAACE,UAAH,CAAc,SAAd,CAA1B;AACA,QAAMN,OAAO,GAAG,MAAMK,iBAAiB,CAACE,IAAlB,GAAyBC,OAAzB,EAAtB;AAEAN,EAAAA,MAAM,CAACO,KAAP,GARmC,CAUnC;;AACA,SAAO;AACH;AACAV,IAAAA,KAAK,EAAE;AACHC,MAAAA,OAAO,EAAEA,OAAO,CAACU,GAAR,CAAYC,MAAM,KAAK;AAC5BC,QAAAA,KAAK,EAAED,MAAM,CAACC,KADc;AAE5BC,QAAAA,OAAO,EAAEF,MAAM,CAACE,OAFY;AAG5BC,QAAAA,KAAK,EAAEH,MAAM,CAACG,KAHc;AAI5BC,QAAAA,EAAE,EAAEJ,MAAM,CAACK;AAJiB,OAAL,CAAlB;AADN,KAFJ;AAUH;AACAC,IAAAA,UAAU,EAAE;AAXT,GAAP;AAaH;AAED,eAAenB,QAAf","sourcesContent":["// our-domain.com/\nimport { MongoClient } from \"mongodb\";\nimport MeetupList from \"../components/meetups/MeetupList\";\n// import Layout from \"../components/layout/Layout\";\n\nfunction HomePage(props) {\n    return (\n        // <Layout>\n        <MeetupList meetups={props.meetups}></MeetupList>\n        // </Layout>\n    );\n}\n\n/*\n// ----- server side rendering(SSR) ---\nexport async function getServerSideProps(context){\n    const req = context.req;\n    const res = context.res;\n\n    // fetch data from an API\n\n    // then returns an object\n    return {\n        props: {\n            meetups: DUMMY_MEETUPS\n        }\n    };\n} */\n\n// ----- static generation ----\n// we can use this function only in the components of 'pages' folder. If nextJs finds this function then it will first of all always call this function before it calls the component function.\n\nexport async function getStaticProps() {\n    // fetch data(meetups) from an API.\n    const client = await MongoClient.connect('mongodb+srv://jatinder:jatinder123@cluster0.dnaxppe.mongodb.net/meetups?retryWrites=true&w=majority');\n\n    const db = client.db();\n    const meetupsCollection = db.collection('meetups');\n    const meetups = await meetupsCollection.find().toArray();\n\n    client.close();\n\n    // once we are done with the data we need, we need to return an object always.\n    return {\n        // set props property here. props holds the other object which will be the props object that we receive in our component function i.e 'HomePage'.\n        props: {\n            meetups: meetups.map(meetup => ({\n                title: meetup.title,\n                address: meetup.address,\n                image: meetup.image,\n                id: meetup._id,\n            }))\n        },\n        // this property is used when we want to re-generate pre-rendered page every 10 seconds in order to get updated if there are data changes.\n        revalidate: 10\n    };\n}\n\nexport default HomePage;"]},"metadata":{},"sourceType":"module"}